<?xml version="1.0" encoding="UTF-8" ?>

<config>

	<module name='civetweb' required='no' />
	<module name='information' required='no' />

	<!-- attribute name='url' value='sqlite+http://localhost' / -->
	<!-- attribute name='alert-url' value='http://localhost/udjat/alert/user/${username}/${name}' / -->

	<interface type='web' action-name='users' required='no' />

	<agent type='users' name='users' update-timer='60'>
	
		<!--
		
			Event names:
			
				Already active	Session is active on startup
				Still active	Session still active on shutdown
				Login			User has logged in
				Logout			User has logged out
				Lock			Session was locked
				Unlock			Session was unlocked
				Foreground		Session is in foreground
				Background		Session is in background
				sleep			Session is preparing to sleep
				resume			Session is resuming from sleep
				shutdown		Session is shutting down
				pulse			Session is alive
		
		-->
	
		<!-- Activate when user is active on service start -->
		<script type='url' name='start' trigger-event='Already active' action='post' url='http://localhost'>
			{"user":"${username}","macaddress":"${macaddress}"}
		</script>

		<script type='url' name='lock' trigger-event='lock' action='post' url='http://localhost'>
			{"user":"${username}","macaddress":"${macaddress}"}
		</script>

		<!-- Timer -->
		<script name='pulse' interval='60' on-locked-session='no' cmdline='echo --PULSE--'>
		</script>
		
	</agent>
	
</config>


